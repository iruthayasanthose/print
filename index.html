<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Label Print</title>
<style>
  body { width: 48mm; text-align: center; font-size: 9pt; margin: 0; }
</style>
</head>
<body>
  <img id="qr" width="100" height="100"><br>
  <b id="name"></b><br>
  <span id="price"></span>
  <script>
    const url = new URL(window.location.href);
    const qr = decodeURIComponent(url.searchParams.get("qr"));
    const name = decodeURIComponent(url.searchParams.get("name"));
    const price = decodeURIComponent(url.searchParams.get("price"));
    document.getElementById("qr").src = qr;
    document.getElementById("name").innerText = name;
    document.getElementById("price").innerText = "â‚¹" + price;
    // Wait for QR to load, then trigger RawBT
    document.getElementById("qr").onload = () => {
      const html = document.body.outerHTML;
      window.location.href = "rawbt:" + encodeURIComponent(html);
    };
  </script>
</body>
</html>
